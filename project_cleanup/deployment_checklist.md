# Чек-лист для успешного деплоя на Streamlit Cloud

Следуйте этому чек-листу, чтобы избежать распространенных проблем при деплое приложения на Streamlit Cloud.

## Перед деплоем

- [ ] **Проверить версию Python**
  - Использовать Python 3.10 или 3.11 (не 3.12)
  - Проверить совместимость библиотек с выбранной версией Python

- [ ] **Проверить файл зависимостей**
  - Использовать `requirements-clean.txt` вместо `requirements.txt`
  - Убедиться, что все зависимости указаны корректно
  - Для Python 3.12: убедиться, что используются совместимые версии пакетов (например, numpy>=1.26.0)

- [ ] **Настроить конфигурацию портов**
  - Скопировать `.streamlit/config_cloud.toml` в `.streamlit/config.toml` перед деплоем
  - Проверить, что порт установлен на 8501
  - Убедиться, что приложение не привязано жестко к порту 5000

- [ ] **Проверить структуру проекта**
  - Использовать `app_cloud.py` как точку входа
  - Проверить, что пути к файлам внутри кода относительные
  - Убедиться, что все необходимые файлы включены в репозиторий

## Настройка деплоя в Streamlit Cloud

- [ ] **Основные настройки**
  - Main file path: `app_cloud.py`
  - Python version: `3.11`
  - Requirements file: `requirements-clean.txt`

- [ ] **Дополнительные настройки**
  - Проверить настройки необходимых секретов
  - Настроить доступ к внешним ресурсам (если требуется)

## Решение распространенных проблем

### Ошибка "No module named 'distutils'"
- Используйте Python 3.11 вместо 3.12
- Обновите версии пакетов в requirements.txt
- Добавьте setuptools в зависимости

### Ошибка "Connection refused on port 8501"
- Проверьте настройки порта в `.streamlit/config.toml`
- Убедитесь, что приложение не привязано жестко к другому порту

### Ошибка "Could not find a required file"
- Используйте простой подход без пакетной структуры
- Переименуйте `pyproject.toml` в `pyproject.toml.old`
- Проверьте, что все импорты работают с текущей структурой каталогов

## После деплоя

- [ ] **Проверить работоспособность**
  - Открыть все основные страницы приложения
  - Проверить функциональность ключевых компонентов
  - Протестировать интерактивные элементы

- [ ] **Мониторинг и отладка**
  - Проверить логи Streamlit Cloud
  - Исправить выявленные ошибки
  - При необходимости обновить код и зависимости